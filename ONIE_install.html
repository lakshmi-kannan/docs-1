

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installed FlexSwitch with ONIE &mdash; FlexSwitch 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="FlexSwitch 1.0 documentation" href="index.html"/>
        <link rel="up" title="QuickStart Guide" href="quickstart.html"/>
        <link rel="next" title="Developers Home" href="developer.html"/>
        <link rel="prev" title="ECMP" href="ecmpDocker.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> FlexSwitch
          

          
          </a>

          
            
            
              <div class="version">
                1.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="quickstart.html"> Quick Start Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dockerIntro.html"> Docker Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="dockerIntro.html"> Dooocker Tutorial</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"> Hardware Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#image-deployment">Image Deployment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-a-basic-onie-environment">Setting Up a Basic ONIE Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-environment">Example environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#onie-install-via-dhcp">ONIE Install Via DHCP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manual-install-method">Manual Install Method</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#base-linux-nos">Base Linux NOS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reinstall-nos">Reinstall NOS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#how-to-use-it">How to use it?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html"> Developer Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="nwengineer.html"> Network Engineer Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html"> Example Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="softwareflexswitch.html"> Software Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> ONIE Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#image-deployment">Image Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-a-basic-onie-environment">Setting Up a Basic ONIE Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-environment">Example environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setup-http-server-to-host-images">Setup HTTP Server to Host Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setup-dhcp-server">Setup DHCP Server</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#onie-install-via-dhcp">ONIE Install Via DHCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manual-install-method">Manual Install Method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#base-linux-nos">Base Linux NOS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reinstall-nos">Reinstall NOS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apis.html">API reference!</a></li>
<li class="toctree-l1"><a class="reference internal" href="apis.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">FlexSwitch</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="quickstart.html">QuickStart Guide</a> &raquo;</li>
      
    <li>Installed FlexSwitch with ONIE</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/ONIE_install.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installed-flexswitch-with-onie">
<h1>Installed FlexSwitch with ONIE<a class="headerlink" href="#installed-flexswitch-with-onie" title="Permalink to this headline">¶</a></h1>
<div class="section" id="image-deployment">
<h2>Image Deployment<a class="headerlink" href="#image-deployment" title="Permalink to this headline">¶</a></h2>
<p>ONIE can be used to build out a provisioning environment to automatically deploy images via DHCP and HTTP.  Alternatively, it can be used to manually deploy a single image on a single device with the ONIE console.  Both methods are outlined below.</p>
<div class="section" id="setting-up-a-basic-onie-environment">
<h3>Setting Up a Basic ONIE Environment<a class="headerlink" href="#setting-up-a-basic-onie-environment" title="Permalink to this headline">¶</a></h3>
<p>Any host can take on the role of an ONIE image server, the only requirements are an HTTP server to host the images and DHCP to serve the URL.  The following instructions detail the process of standing up a new server to fulfil the image hosting requirements.  If a new server is not required, use these steps as a reference for configuration.</p>
</div>
<div class="section" id="example-environment">
<h3>Example environment<a class="headerlink" href="#example-environment" title="Permalink to this headline">¶</a></h3>
<p>For the purposes of this document, a clean install of Ubuntu 14.04 Server is used.</p>
<div class="section" id="setup-http-server-to-host-images">
<h4>Setup HTTP Server to Host Images<a class="headerlink" href="#setup-http-server-to-host-images" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Update apt-get package lists:
$ sudo apt-get update</p>
</li>
<li><p class="first">Install apache2 package to serve as http server:
$ sudo apt-get install apache2</p>
</li>
<li><p class="first">Create a directory on the in the root www directory for storing ONIE images:
$ sudo mkdir -p /var/www/html/onie</p>
</li>
<li><p class="first">Copy ONIE image into /var/www/html/onie and validate
$ cp image_path /var/www/html/onie</p>
<p>$ ls /var/www/html/onie/
onie-installer-x86_64-cel_redstone_xp_snapbase</p>
</li>
<li><p class="first">Test image download from another host:
$ wget <a class="reference external" href="http://10.2.10.110/onie/onie-installer-x86_64-cel_redstone_xp_snapbase">http://10.2.10.110/onie/onie-installer-x86_64-cel_redstone_xp_snapbase</a></p>
</li>
</ol>
</div>
<div class="section" id="setup-dhcp-server">
<h4>Setup DHCP Server<a class="headerlink" href="#setup-dhcp-server" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Update apt-get package lists:
$ sudo apt-get update</p>
</li>
<li><p class="first">Install apache2 package to serve as http server:
$ sudo apt-get install isc-dhcp-server</p>
</li>
<li><p class="first">Modify DHCP configuration to serve an IP and an ONIE image URL to the target switch:
$ sudo vi /etc/dhcp/dhcpd.conf</p>
<p><strong>Sample Config:</strong></p>
<dl class="docutils">
<dt>::</dt>
<dd><p class="first">option domain-name-servers 8.8.8.8, 8.8.4.4;
default-lease-time 86400;
max-lease-time 86400;
log-facility local7;</p>
<dl class="docutils">
<dt>subnet 10.2.10.0 netmask 255.255.255.0 {</dt>
<dd><p class="first last">option routers 10.2.10.1;
range 10.2.10.2 10.2.10.100;
option default-url = &#8220;<a class="reference external" href="http://10.2.10.110/onie/onie-installer-x86_64-cel_redstone_xp_snapbase">http://10.2.10.110/onie/onie-installer-x86_64-cel_redstone_xp_snapbase</a>&#8221;;</p>
</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
</li>
</ol>
<p>As shown above, the “default-url” DHCP option is used to tell ONIE where to pull the image from.</p>
<ol class="arabic simple" start="4">
<li>For the configurations changes to /etc/dhcp/dhcpd.conf to take affect, the service must be restarted:
$ sudo service isc-dhcp-server restart</li>
</ol>
</div>
</div>
<div class="section" id="onie-install-via-dhcp">
<h3>ONIE Install Via DHCP<a class="headerlink" href="#onie-install-via-dhcp" title="Permalink to this headline">¶</a></h3>
<p>After the DHCP and HTTP servers are installed and configured, the target switch should discover the ONIE image URL via DHCP and download it automatically.</p>
<p>Here is an example output from the console of an ONIE image installation via DHCP:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">**</span> <span class="n">Installer</span> <span class="n">Mode</span> <span class="n">Enabled</span> <span class="o">**</span>
<span class="n">ONIE</span><span class="p">:</span><span class="o">/</span> <span class="c1">#</span>

<span class="n">Info</span><span class="p">:</span> <span class="n">Sleeping</span> <span class="k">for</span> <span class="mi">20</span> <span class="n">seconds</span>
<span class="mf">4.</span><span class="o">.</span><span class="mf">3.</span><span class="o">.</span><span class="mf">2.</span><span class="o">.</span><span class="mf">1.</span><span class="o">.</span><span class="n">Info</span><span class="p">:</span> <span class="n">eth0</span><span class="p">:</span>  <span class="n">Checking</span> <span class="n">link</span><span class="o">...</span> <span class="n">up</span><span class="o">.</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Trying</span> <span class="n">DHCPv4</span> <span class="n">on</span> <span class="n">interface</span><span class="p">:</span> <span class="n">eth0</span>
<span class="n">ONIE</span><span class="p">:</span> <span class="n">Using</span> <span class="n">DHCPv4</span> <span class="n">addr</span><span class="p">:</span> <span class="n">eth0</span><span class="p">:</span> <span class="mf">10.2</span><span class="o">.</span><span class="mf">10.2</span> <span class="o">/</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
<span class="n">ONIE</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">ONIE</span> <span class="n">Service</span> <span class="n">Discovery</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.2</span><span class="o">.</span><span class="mf">10.110</span><span class="o">/</span><span class="n">onie</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">cel_redstone_xp_snapbase</span> <span class="o">...</span>
<span class="n">ONIE</span><span class="p">:</span> <span class="n">Executing</span> <span class="n">installer</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.2</span><span class="o">.</span><span class="mf">10.110</span><span class="o">/</span><span class="n">onie</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">cel_redstone_xp_snapbase</span>
<span class="n">Verifying</span> <span class="n">image</span> <span class="n">checksum</span> <span class="o">...</span> <span class="n">OK</span><span class="o">.</span>
<span class="n">Preparing</span> <span class="n">image</span> <span class="n">archive</span> <span class="o">...</span> <span class="n">OK</span><span class="o">.</span>
</pre></div>
</div>
<p>The above shows that the target device is receiving an IP address via DHCP of 10.2.10.2, being served the URL to download the ONIE image, and then proceeding to download the image and verify the checksum.</p>
</div>
<div class="section" id="manual-install-method">
<h3>Manual Install Method<a class="headerlink" href="#manual-install-method" title="Permalink to this headline">¶</a></h3>
<p>ONIE offers a method of manually installing an image, outside of using a default-url served by DHCP.  All that is required is a DHCP address served to the device and IP reachability to an HTTP server hosting the ONIE image.</p>
<ol class="arabic simple">
<li>Attach to the target device via the console port and access ONIE shell.
Until interrupted, ONIE will be looping in discovery mode, trying to download a bootable image for the device:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ONIE</span><span class="p">:</span><span class="o">/</span> <span class="c1">#</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Sleeping</span> <span class="k">for</span> <span class="mi">20</span> <span class="n">seconds</span>
<span class="mf">4.</span><span class="o">.</span><span class="mf">3.</span><span class="o">.</span><span class="mf">2.</span><span class="o">.</span><span class="mf">1.</span><span class="o">.</span><span class="n">Info</span><span class="p">:</span> <span class="n">eth0</span><span class="p">:</span>  <span class="n">Checking</span> <span class="n">link</span><span class="o">...</span> <span class="n">up</span><span class="o">.</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Trying</span> <span class="n">DHCPv4</span> <span class="n">on</span> <span class="n">interface</span><span class="p">:</span> <span class="n">eth0</span>
<span class="n">ONIE</span><span class="p">:</span> <span class="n">Using</span> <span class="n">DHCPv4</span> <span class="n">addr</span><span class="p">:</span> <span class="n">eth0</span><span class="p">:</span> <span class="mf">10.1</span><span class="o">.</span><span class="mf">10.44</span> <span class="o">/</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
<span class="n">ONIE</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">ONIE</span> <span class="n">Service</span> <span class="n">Discovery</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.99</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">cel_redstone_xp</span><span class="o">-</span><span class="n">r0</span> <span class="o">...</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.99</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">cel_redstone_xp</span> <span class="o">...</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.99</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">cel_redstone_xp</span> <span class="o">...</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.99</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x86_64</span> <span class="o">...</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.99</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span> <span class="o">...</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li>Press &lt;Enter&gt; several times to interrupt the discover process and gain access to the BusyBox ONIE console.</li>
<li>Issue “ifconfig” to verify that the management interface is receiving an IP address via DHCP:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ONIE</span><span class="p">:</span><span class="o">/</span> <span class="c1"># ifconfig</span>
<span class="n">eth0</span>      <span class="n">Link</span> <span class="n">encap</span><span class="p">:</span><span class="n">Ethernet</span>  <span class="n">HWaddr</span> <span class="mi">00</span><span class="p">:</span><span class="n">E0</span><span class="p">:</span><span class="n">EC</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="n">A7</span><span class="p">:</span><span class="mi">5</span><span class="n">B</span>
                  <span class="n">inet</span> <span class="n">addr</span><span class="p">:</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.44</span>  <span class="n">Bcast</span><span class="p">:</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.255</span>  <span class="n">Mask</span><span class="p">:</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
</pre></div>
</div>
<p>If eth0 has link, but is not receiving a DHCP address – ONIE defaults to using 192.168.3.10:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ONIE</span><span class="p">:</span><span class="o">/</span> <span class="c1"># ifconfig</span>
<span class="n">eth0</span>      <span class="n">Link</span> <span class="n">encap</span><span class="p">:</span><span class="n">Ethernet</span>  <span class="n">HWaddr</span> <span class="mi">00</span><span class="p">:</span><span class="n">E0</span><span class="p">:</span><span class="n">EC</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="n">A7</span><span class="p">:</span><span class="mi">5</span><span class="n">B</span>
                  <span class="n">inet</span> <span class="n">addr</span><span class="p">:</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">3.10</span>  <span class="n">Bcast</span><span class="p">:</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">3.255</span>  <span class="n">Mask</span><span class="p">:</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li>Use the “install_url” command to tell ONIE to manually install an image:</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ONIE</span><span class="p">:</span><span class="o">/</span> <span class="c1"># install_url http://10.1.10.110/onie/onie-installer-x86_64-cel_redstone_xp_snapbase</span>
<span class="n">Stopping</span><span class="p">:</span> <span class="n">discover</span><span class="o">...</span> <span class="n">done</span><span class="o">.</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Fetching</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">10.1</span><span class="o">.</span><span class="mf">10.110</span><span class="o">/</span><span class="n">onie</span><span class="o">/</span><span class="n">onie</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">cel_redstone_xp_snapbase</span> <span class="o">...</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>After the image download is complete, ONIE will verify the checksum and proceed with the installation.</li>
</ol>
</div>
</div>
<div class="section" id="base-linux-nos">
<h2>Base Linux NOS<a class="headerlink" href="#base-linux-nos" title="Permalink to this headline">¶</a></h2>
<p>After the image installation, grub will be modified to add an entry for the newly installed Network Operating System (NOS) and the device will reboot into this new OS.</p>
<p>This NOS is indexed as “SnapOS” in grub and is based on Ubuntu 14.04 LTS – with a 3.16.0-29 Linux kernel:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Ubuntu</span> <span class="mf">14.04</span> <span class="n">LTS</span> <span class="n">localhost</span> <span class="n">ttyS0</span>

<span class="n">localhost</span> <span class="n">login</span><span class="p">:</span>
</pre></div>
</div>
<dl class="docutils">
<dt>The initial login credentials are:</dt>
<dd>Username: admin
Password: snaproute</dd>
</dl>
<p>The management interface is represented as “eth0” and has a default configuration of DHCP in /etc/network/interfaces:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ cat /etc/network/interfaces
iface eth0 inet dhcp
auto eth0
</pre></div>
</div>
<div class="section" id="reinstall-nos">
<h3>Reinstall NOS<a class="headerlink" href="#reinstall-nos" title="Permalink to this headline">¶</a></h3>
<p>During the course of deployment it may become necessary to “rekick” a device – by forcing ONIE to run on the next reboot.  This prevents the need to reboot with a console attached and manually changing the grub selection during boot.</p>
<p>Force grub to boot into the ONIE menu option during the next reboot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo grub-reboot ONIE
</pre></div>
</div>
<p>If there is a need to clear the above action and revert grub to the default:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo grub-reboot SnapOS
</pre></div>
</div>
<p>Alternatively, if remote access via SSH is not available or the OS is in a failed state – an ONIE rekick can be initiated via a console session:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Connect to the console cable and configure the host device or terminal server with the console settings documented for the target device</p>
</li>
<li><p class="first">If the device is accessible issue a “sudo reboot” from the console, otherwise physically power-cycle the switch</p>
</li>
<li><p class="first">When presented with the GRUB menu, select “ONIE” and press &lt;Enter&gt;:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>                                        GNU GRUB  version 2.02~beta2+e4a1fe391

+----------------------------------------------------------------------------+
| SnapOS                                                                     |
|*ONIE                                                                       |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
+----------------------------------------------------------------------------+

         Use the ^ and v keys to select which entry is highlighted.
         Press enter to boot the selected OS, `e&#39; to edit the commands
         before booting or `c&#39; for a command-line.
</pre></div>
</div>
<p>The asterisk indicated which option is selected.  There is a several second timeout for the default option (in this example SnapOS) – so it is important to quickly press an arrow key to change the GRUB menu option.</p>
</li>
<li><p class="first">When the ONIE menu is displayed, select “ONIE: Install OS”:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>                                       GNU GRUB  version 2.02~beta2+e4a1fe391

+----------------------------------------------------------------------------+
|*ONIE: Install OS                                                           |
| ONIE: Rescue                                                               |
| ONIE: Uninstall OS                                                         |
| ONIE: Update ONIE                                                          |
| ONIE: Embed ONIE                                                           |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
|                                                                            |
+----------------------------------------------------------------------------+

 Use the ^ and v keys to select which entry is highlighted.
 Press enter to boot the selected OS, `e&#39; to edit the commands
 before booting or `c&#39; for a command-line.
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
<p>It may be required to use the “ONIE: Uninstall OS” option – if the ONIE installer fails to partition the flash.  When using the uninstall mode – ONIE will remove the NOS and clear the flash paritions.  After the uninstall is complete – ONIE will automatically restart into the “ONIE: Install OS” mode.</p>
<p>When the ONIE:/ # prompt is available – the steps for loading an image via ONIE can be followed (either DHCP or Manual Install).</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developer.html" class="btn btn-neutral float-right" title="Developers Home" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ecmpDocker.html" class="btn btn-neutral" title="ECMP" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Snaproute.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>